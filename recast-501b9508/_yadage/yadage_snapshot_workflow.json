{"applied": [{"type": "offset", "id": "7d08d6f5-453c-4a2a-877f-9703c70a767e", "rule": {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": []}, "type": "JsonStage", "name": "init", "scheduler": {"inputs": [], "step": {"process": null, "environment": null, "publisher": {"tryExact": true, "publisher_type": "fromparjq-pub", "glob": true, "relative_paths": true, "script": "."}}, "scheduler_type": "init-stage", "nodename": null, "parameters": {"dxaod_file": "root://eosatlas.cern.ch//eos/atlas/atlascerngroupdisk/phys-exotics/jdm/vbfinv/RECAST/input/DAOD_EXOT5/mc16_13TeV.346600.PowhegPy8EG_NNPDF30_AZNLOCTEQ6L1_VBFH125_ZZ4nu_MET75.deriv.DAOD_EXOT5.e7613_s3126_r9364_p3895/DAOD_EXOT5.18795494._000010.pool.root.1"}}, "state_provider": {"init_states": [{"state_type": "localfs", "readwrite": [], "readonly": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-501b9508/init", "name": "readdir0"}], "identifier": "unidentified_state"}], "nest": true, "base_state": {"state_type": "localfs", "readwrite": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-501b9508", "name": "workdir"}], "readonly": [], "identifier": "unidentified_state"}, "state_provider_type": "localfs_provider", "sub_init_states": {}, "ensure": true}}, "offset": ""}, {"type": "offset", "id": "f2aa8c4f-d9ee-47d3-beac-f6db78b1df97", "rule": {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}, "type": "JsonStage", "name": "stanalysiscode", "scheduler": {"step": {"process": {"interpreter": "sh", "process_type": "interpolated-script-cmd", "script": "source /recast_auth/getkrb.sh\nsource /home/atlas/release_setup.sh\nsource /analysis/build/*/setup.sh\nexport USER=othrif\necho $RECAST_AUTH_PASSWORD | kinit $RECAST_AUTH_USERNAME\n\nrunVBF.py -f root://eosatlas.cern.ch//eos/atlas/atlascerngroupdisk/phys-exotics/jdm/vbfinv/RECAST/input/DAOD_EXOT5/mc16_13TeV.346600.PowhegPy8EG_NNPDF30_AZNLOCTEQ6L1_VBFH125_ZZ4nu_MET75.deriv.DAOD_EXOT5.e7613_s3126_r9364_p3895/DAOD_EXOT5.18795494._000010.pool.root.1\n\n# Reformat the output such that it can be used by STPostProcessing\nmkdir -p input_files/user.othrif.vXX.999999.VBFHAltSignal.root\ncp {submitDir}/data-MiniNtuple/mc16_13TeV.346600.PowhegPy8EG_NNPDF30_AZNLOCTEQ6L1_VBFH125_ZZ4nu_MET75.root input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"outputfile": "input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root/VBFHAltSignal-MiniNtuple.root"}}, "environment": {"workdir": null, "imagetag": "master", "par_mounts": [], "image": "gitlab-registry.cern.ch/vbfinv/stanalysiscode", "envscript": "", "resources": ["KRB5Auth", "GRIDProxy"], "env": {}, "environment_type": "docker-encapsulated"}}, "scheduler_type": "singlestep-stage", "parameters": [{"key": "submitDir", "value": "{workdir}/submitDir"}, {"key": "name", "value": "recast-vbfmet-stanalysiscode"}]}, "state_provider": {"init_states": [{"state_type": "localfs", "readwrite": [], "readonly": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-501b9508/init", "name": "readdir0"}], "identifier": "unidentified_state"}], "nest": true, "base_state": {"state_type": "localfs", "readwrite": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-501b9508", "name": "workdir"}], "readonly": [], "identifier": "unidentified_state"}, "state_provider_type": "localfs_provider", "sub_init_states": {}, "ensure": true}}, "offset": ""}], "dag": {"nodes": [{"task": {"inputs": [], "parameters": {"dxaod_file": "root://eosatlas.cern.ch//eos/atlas/atlascerngroupdisk/phys-exotics/jdm/vbfinv/RECAST/input/DAOD_EXOT5/mc16_13TeV.346600.PowhegPy8EG_NNPDF30_AZNLOCTEQ6L1_VBFH125_ZZ4nu_MET75.deriv.DAOD_EXOT5.e7613_s3126_r9364_p3895/DAOD_EXOT5.18795494._000010.pool.root.1"}, "state": {"state_type": "localfs", "readwrite": [], "readonly": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-501b9508/init", "name": "readdir0"}], "identifier": "init"}, "type": "packtivity_task", "spec": {"process": null, "environment": null, "publisher": {"tryExact": true, "publisher_type": "fromparjq-pub", "glob": true, "relative_paths": true, "script": "."}}, "metadata": {"wflow_hints": {"is_purepub": true}, "name": "init", "wflow_stage_node_idx": 0, "wflow_offset": "", "wflow_stage": "init", "wflow_node_id": "7d52ae8e-91c4-4099-8dc4-a5b1c8716350"}}, "name": "init", "state": "DEFINED", "proxy": null, "timestamps": {"defined": 1582905146.347975, "ready by": null, "submit": null}, "id": "7d52ae8e-91c4-4099-8dc4-a5b1c8716350", "result": {"dxaod_file": "root://eosatlas.cern.ch//eos/atlas/atlascerngroupdisk/phys-exotics/jdm/vbfinv/RECAST/input/DAOD_EXOT5/mc16_13TeV.346600.PowhegPy8EG_NNPDF30_AZNLOCTEQ6L1_VBFH125_ZZ4nu_MET75.deriv.DAOD_EXOT5.e7613_s3126_r9364_p3895/DAOD_EXOT5.18795494._000010.pool.root.1"}}, {"task": {"inputs": [], "parameters": {"submitDir": "{workdir}/submitDir", "name": "recast-vbfmet-stanalysiscode"}, "state": {"state_type": "localfs", "readwrite": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-501b9508/stanalysiscode", "name": "workdir"}], "readonly": [], "identifier": "stanalysiscode"}, "type": "packtivity_task", "spec": {"process": {"interpreter": "sh", "process_type": "interpolated-script-cmd", "script": "source /recast_auth/getkrb.sh\nsource /home/atlas/release_setup.sh\nsource /analysis/build/*/setup.sh\nexport USER=othrif\necho $RECAST_AUTH_PASSWORD | kinit $RECAST_AUTH_USERNAME\n\nrunVBF.py -f root://eosatlas.cern.ch//eos/atlas/atlascerngroupdisk/phys-exotics/jdm/vbfinv/RECAST/input/DAOD_EXOT5/mc16_13TeV.346600.PowhegPy8EG_NNPDF30_AZNLOCTEQ6L1_VBFH125_ZZ4nu_MET75.deriv.DAOD_EXOT5.e7613_s3126_r9364_p3895/DAOD_EXOT5.18795494._000010.pool.root.1\n\n# Reformat the output such that it can be used by STPostProcessing\nmkdir -p input_files/user.othrif.vXX.999999.VBFHAltSignal.root\ncp {submitDir}/data-MiniNtuple/mc16_13TeV.346600.PowhegPy8EG_NNPDF30_AZNLOCTEQ6L1_VBFH125_ZZ4nu_MET75.root input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"outputfile": "input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root/VBFHAltSignal-MiniNtuple.root"}}, "environment": {"workdir": null, "imagetag": "master", "par_mounts": [], "image": "gitlab-registry.cern.ch/vbfinv/stanalysiscode", "envscript": "", "resources": ["KRB5Auth", "GRIDProxy"], "env": {}, "environment_type": "docker-encapsulated"}}, "metadata": {"wflow_hints": {"is_purepub": false}, "name": "stanalysiscode", "wflow_stage_node_idx": 0, "wflow_offset": "", "wflow_stage": "stanalysiscode", "wflow_node_id": "ee1f79b8-2739-47ba-9af6-8e3faaae58e7"}}, "name": "stanalysiscode", "state": "DEFINED", "proxy": null, "timestamps": {"defined": 1582905146.451091, "ready by": null, "submit": null}, "id": "ee1f79b8-2739-47ba-9af6-8e3faaae58e7", "result": {"outputfile": "input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root/VBFHAltSignal-MiniNtuple.root"}}], "edges": []}, "stepsbystage": {"init": [{"_nodeid": "7d52ae8e-91c4-4099-8dc4-a5b1c8716350"}], "stanalysiscode": [{"_nodeid": "ee1f79b8-2739-47ba-9af6-8e3faaae58e7"}]}, "rules": [{"type": "offset", "id": "08b8006c-a27b-422d-a5be-73287888527e", "rule": {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init", "stanalysiscode"]}, "type": "JsonStage", "name": "stpostprocessing", "scheduler": {"step": {"process": {"interpreter": "sh", "process_type": "interpolated-script-cmd", "script": "source /recast_auth/getkrb.sh\nsource /home/atlas/release_setup.sh\nsource /analysis/build/*/setup.sh\nexport DISPLAY=localhost:0.0\n\necho \"./input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root/VBFHAltSignal-MiniNtuple.root\" > list\npython /analysis/src/VBFAnalysis/util/getN.py -l list -o fout.root\nathena VBFAnalysis/VBFAnalysisAlgJobOptions.py --filesInput ./input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root/VBFHAltSignal-MiniNtuple.root - --currentVariation Nominal - --normFile fout.root\n\nmkdir -p output_files\nhadd output_files/VBFHAltSignal-MicroNtuple.root  VBFH125*.root\n\nmkdir -p HF_files\ncd HF_files\nathena VBFAnalysis/HFInputJobOptions.py --filesInput ../output_files/VBFHAltSignal-MicroNtuple.root - --currentVariation Nominal --Binning 11 --extraVars 7\nhadd HFVBFHAltSignalNominal.root HFVBFHAltSignalNominal*root\ncd ..\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"outputfile": "HF_files/HFVBFHAltSignalNominal.root"}}, "environment": {"workdir": null, "imagetag": "master", "par_mounts": [], "image": "gitlab-registry.cern.ch/vbfinv/stpostprocessing", "envscript": "", "resources": ["KRB5Auth"], "env": {}, "environment_type": "docker-encapsulated"}}, "scheduler_type": "singlestep-stage", "parameters": [{"key": "input_directory", "value": {"output": "HF_files", "step": "stanalysiscode", "expression_type": "stage-output-selector"}}, {"key": "name", "value": "recast-vbfmet-stpostprocessing"}]}, "state_provider": {"init_states": [{"state_type": "localfs", "readwrite": [], "readonly": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-501b9508/init", "name": "readdir0"}], "identifier": "unidentified_state"}], "nest": true, "base_state": {"state_type": "localfs", "readwrite": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-501b9508", "name": "workdir"}], "readonly": [], "identifier": "unidentified_state"}, "state_provider_type": "localfs_provider", "sub_init_states": {}, "ensure": true}}, "offset": ""}, {"type": "offset", "id": "66305409-7bc8-4be3-8b60-48b727907127", "rule": {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["stanalysiscode", "stpostprocessing", "init"]}, "type": "JsonStage", "name": "statanalysis", "scheduler": {"step": {"process": {"interpreter": "bash", "process_type": "interpolated-script-cmd", "script": "source /home/atlas/release_setup.sh\ncd HistFitterTutorial\nsource setup.sh\ncd src\nmake\necho \"Launching the stat only limit...this will take a little while...\"\nhadd exampleFile/HF_jan7_mc16all_nom_VBFHAltSignal.root exampleFile/HF_jan7_mc16all_nom.root HF_files/HFVBFHAltSignalNominal.root\nsource runStatOnlyBlindedDocker.sh exampleFile/HF_jan7_mc16all_nom_VBFHAltSignal.root HF_jan7_mc16all_nom sys 0.001 VBFHAltSignal\ntail -30 limit.log\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"limit": "limit.log"}}, "environment": {"workdir": null, "imagetag": "master", "par_mounts": [], "image": "gitlab-registry.cern.ch/vbfinv/statstools", "envscript": "", "environment_type": "docker-encapsulated", "env": {}, "resources": []}}, "scheduler_type": "singlestep-stage", "parameters": [{"key": "input_histfitter", "value": "{workdir}/HF_files"}, {"key": "background_file", "value": "exampleFile/HF_jan7_mc16all_nom.root"}, {"key": "signal_file", "value": {"output": "HF_files", "step": "stpostprocessing", "expression_type": "stage-output-selector"}}, {"key": "resultdir", "value": "{workdir}/fitresults"}]}, "state_provider": {"init_states": [{"state_type": "localfs", "readwrite": [], "readonly": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-501b9508/init", "name": "readdir0"}], "identifier": "unidentified_state"}], "nest": true, "base_state": {"state_type": "localfs", "readwrite": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-501b9508", "name": "workdir"}], "readonly": [], "identifier": "unidentified_state"}, "state_provider_type": "localfs_provider", "sub_init_states": {}, "ensure": true}}, "offset": ""}], "values": {}, "bookkeeping": {"_meta": {"stages": ["f2aa8c4f-d9ee-47d3-beac-f6db78b1df97", "08b8006c-a27b-422d-a5be-73287888527e", "66305409-7bc8-4be3-8b60-48b727907127", "7d08d6f5-453c-4a2a-877f-9703c70a767e"], "steps": ["7d52ae8e-91c4-4099-8dc4-a5b1c8716350", "ee1f79b8-2739-47ba-9af6-8e3faaae58e7"]}}}