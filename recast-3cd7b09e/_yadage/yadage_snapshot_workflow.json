{"applied": [{"type": "offset", "id": "9ee4269d-4970-4c97-8b68-7ec0a814b3c6", "rule": {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": []}, "type": "JsonStage", "name": "init", "scheduler": {"inputs": [], "step": {"process": null, "environment": null, "publisher": {"tryExact": true, "publisher_type": "fromparjq-pub", "glob": true, "relative_paths": true, "script": "."}}, "scheduler_type": "init-stage", "nodename": null, "parameters": {"dxaod_file": "root://eosuser.cern.ch//eos/project/r/recast/atlas/tutorial_safe_inputs/mc15_13TeV.123456.cap_recast_demo_signal_one.root"}}, "state_provider": {"init_states": [{"state_type": "localfs", "readwrite": [], "readonly": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-3cd7b09e/init", "name": "readdir0"}], "identifier": "unidentified_state"}], "nest": true, "base_state": {"state_type": "localfs", "readwrite": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-3cd7b09e", "name": "workdir"}], "readonly": [], "identifier": "unidentified_state"}, "state_provider_type": "localfs_provider", "sub_init_states": {}, "ensure": true}}, "offset": ""}, {"type": "offset", "id": "01e85f2c-c3f3-43b3-bf2b-fc42e9db6c34", "rule": {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init"]}, "type": "JsonStage", "name": "stanalysiscode", "scheduler": {"step": {"process": {"interpreter": "sh", "process_type": "interpolated-script-cmd", "script": "source /recast_auth/getkrb.sh\nsource /home/atlas/release_setup.sh\nsource /analysis/build/*/setup.sh\nexport USER=othrif\necho $RECAST_AUTH_PASSWORD | kinit $RECAST_AUTH_USERNAME\n\nrunVBF.py -f root://eosatlas.cern.ch//eos/atlas/atlascerngroupdisk/phys-exotics/jdm/vbfinv/RECAST/input/DAOD_EXOT5/mc16_13TeV.346600.PowhegPy8EG_NNPDF30_AZNLOCTEQ6L1_VBFH125_ZZ4nu_MET75.deriv.DAOD_EXOT5.e7613_s3126_r9364_p3895/DAOD_EXOT5.18795494._000010.pool.root.1\n\n# Reformat the output such that it can be used by STPostProcessing\nmkdir -p input_files/user.othrif.vXX.999999.VBFHAltSignal.root\ncp {submitDir}/data-MiniNtuple/mc16_13TeV.346600.PowhegPy8EG_NNPDF30_AZNLOCTEQ6L1_VBFH125_ZZ4nu_MET75.root input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"outputfile": "input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root/VBFHAltSignal-MiniNtuple.root"}}, "environment": {"workdir": null, "imagetag": "master", "par_mounts": [], "image": "gitlab-registry.cern.ch/vbfinv/stanalysiscode", "envscript": "", "resources": ["KRB5Auth", "GRIDProxy"], "env": {}, "environment_type": "docker-encapsulated"}}, "scheduler_type": "singlestep-stage", "parameters": [{"key": "submitDir", "value": "{workdir}/submitDir"}, {"key": "name", "value": "recast-vbfmet-stanalysiscode"}]}, "state_provider": {"init_states": [{"state_type": "localfs", "readwrite": [], "readonly": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-3cd7b09e/init", "name": "readdir0"}], "identifier": "unidentified_state"}], "nest": true, "base_state": {"state_type": "localfs", "readwrite": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-3cd7b09e", "name": "workdir"}], "readonly": [], "identifier": "unidentified_state"}, "state_provider_type": "localfs_provider", "sub_init_states": {}, "ensure": true}}, "offset": ""}], "dag": {"nodes": [{"task": {"inputs": [], "parameters": {"dxaod_file": "root://eosuser.cern.ch//eos/project/r/recast/atlas/tutorial_safe_inputs/mc15_13TeV.123456.cap_recast_demo_signal_one.root"}, "state": {"state_type": "localfs", "readwrite": [], "readonly": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-3cd7b09e/init", "name": "readdir0"}], "identifier": "init"}, "type": "packtivity_task", "spec": {"process": null, "environment": null, "publisher": {"tryExact": true, "publisher_type": "fromparjq-pub", "glob": true, "relative_paths": true, "script": "."}}, "metadata": {"wflow_hints": {"is_purepub": true}, "name": "init", "wflow_stage_node_idx": 0, "wflow_offset": "", "wflow_stage": "init", "wflow_node_id": "1c81d7ce-8464-42ec-a9e2-1a8fc4b79106"}}, "name": "init", "state": "DEFINED", "proxy": null, "timestamps": {"defined": 1582905114.063891, "ready by": null, "submit": null}, "id": "1c81d7ce-8464-42ec-a9e2-1a8fc4b79106", "result": {"dxaod_file": "root://eosuser.cern.ch//eos/project/r/recast/atlas/tutorial_safe_inputs/mc15_13TeV.123456.cap_recast_demo_signal_one.root"}}, {"task": {"inputs": [], "parameters": {"submitDir": "{workdir}/submitDir", "name": "recast-vbfmet-stanalysiscode"}, "state": {"state_type": "localfs", "readwrite": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-3cd7b09e/stanalysiscode", "name": "workdir"}], "readonly": [], "identifier": "stanalysiscode"}, "type": "packtivity_task", "spec": {"process": {"interpreter": "sh", "process_type": "interpolated-script-cmd", "script": "source /recast_auth/getkrb.sh\nsource /home/atlas/release_setup.sh\nsource /analysis/build/*/setup.sh\nexport USER=othrif\necho $RECAST_AUTH_PASSWORD | kinit $RECAST_AUTH_USERNAME\n\nrunVBF.py -f root://eosatlas.cern.ch//eos/atlas/atlascerngroupdisk/phys-exotics/jdm/vbfinv/RECAST/input/DAOD_EXOT5/mc16_13TeV.346600.PowhegPy8EG_NNPDF30_AZNLOCTEQ6L1_VBFH125_ZZ4nu_MET75.deriv.DAOD_EXOT5.e7613_s3126_r9364_p3895/DAOD_EXOT5.18795494._000010.pool.root.1\n\n# Reformat the output such that it can be used by STPostProcessing\nmkdir -p input_files/user.othrif.vXX.999999.VBFHAltSignal.root\ncp {submitDir}/data-MiniNtuple/mc16_13TeV.346600.PowhegPy8EG_NNPDF30_AZNLOCTEQ6L1_VBFH125_ZZ4nu_MET75.root input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"outputfile": "input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root/VBFHAltSignal-MiniNtuple.root"}}, "environment": {"workdir": null, "imagetag": "master", "par_mounts": [], "image": "gitlab-registry.cern.ch/vbfinv/stanalysiscode", "envscript": "", "resources": ["KRB5Auth", "GRIDProxy"], "env": {}, "environment_type": "docker-encapsulated"}}, "metadata": {"wflow_hints": {"is_purepub": false}, "name": "stanalysiscode", "wflow_stage_node_idx": 0, "wflow_offset": "", "wflow_stage": "stanalysiscode", "wflow_node_id": "015bb045-912b-4816-8c78-17e5035413f2"}}, "name": "stanalysiscode", "state": "DEFINED", "proxy": null, "timestamps": {"defined": 1582905114.157642, "ready by": null, "submit": null}, "id": "015bb045-912b-4816-8c78-17e5035413f2", "result": {"outputfile": "input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root/VBFHAltSignal-MiniNtuple.root"}}], "edges": []}, "stepsbystage": {"init": [{"_nodeid": "1c81d7ce-8464-42ec-a9e2-1a8fc4b79106"}], "stanalysiscode": [{"_nodeid": "015bb045-912b-4816-8c78-17e5035413f2"}]}, "rules": [{"type": "offset", "id": "03d4e8bc-baf8-4f91-920d-48076ef9277f", "rule": {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["init", "stanalysiscode"]}, "type": "JsonStage", "name": "stpostprocessing", "scheduler": {"step": {"process": {"interpreter": "sh", "process_type": "interpolated-script-cmd", "script": "source /recast_auth/getkrb.sh\nsource /home/atlas/release_setup.sh\nsource /analysis/build/*/setup.sh\nexport DISPLAY=localhost:0.0\n\necho \"./input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root/VBFHAltSignal-MiniNtuple.root\" > list\npython /analysis/src/VBFAnalysis/util/getN.py -l list -o fout.root\nathena VBFAnalysis/VBFAnalysisAlgJobOptions.py --filesInput ./input_files/user.othrif.vXX.999999.VBFHAltSignal.root/VBFHAltSignal-MiniNtuple.root/VBFHAltSignal-MiniNtuple.root - --currentVariation Nominal - --normFile fout.root\n\nmkdir -p output_files\nhadd output_files/VBFHAltSignal-MicroNtuple.root  VBFH125*.root\n\nmkdir -p HF_files\ncd HF_files\nathena VBFAnalysis/HFInputJobOptions.py --filesInput ../output_files/VBFHAltSignal-MicroNtuple.root - --currentVariation Nominal --Binning 11 --extraVars 7\nhadd HFVBFHAltSignalNominal.root HFVBFHAltSignalNominal*root\ncd ..\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"outputfile": "HF_files/HFVBFHAltSignalNominal.root"}}, "environment": {"workdir": null, "imagetag": "master", "par_mounts": [], "image": "gitlab-registry.cern.ch/vbfinv/stpostprocessing", "envscript": "", "resources": ["KRB5Auth"], "env": {}, "environment_type": "docker-encapsulated"}}, "scheduler_type": "singlestep-stage", "parameters": [{"key": "input_directory", "value": {"output": "HF_files", "step": "stanalysiscode", "expression_type": "stage-output-selector"}}, {"key": "name", "value": "recast-vbfmet-stpostprocessing"}]}, "state_provider": {"init_states": [{"state_type": "localfs", "readwrite": [], "readonly": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-3cd7b09e/init", "name": "readdir0"}], "identifier": "unidentified_state"}], "nest": true, "base_state": {"state_type": "localfs", "readwrite": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-3cd7b09e", "name": "workdir"}], "readonly": [], "identifier": "unidentified_state"}, "state_provider_type": "localfs_provider", "sub_init_states": {}, "ensure": true}}, "offset": ""}, {"type": "offset", "id": "042ef237-0ffc-47b9-81a0-86409c935da9", "rule": {"dependencies": {"dependency_type": "jsonpath_ready", "expressions": ["stanalysiscode", "stpostprocessing", "init"]}, "type": "JsonStage", "name": "statanalysis", "scheduler": {"step": {"process": {"interpreter": "bash", "process_type": "interpolated-script-cmd", "script": "source /home/atlas/release_setup.sh\ncd HistFitterTutorial\nsource setup.sh\ncd src\nmake\necho \"Launching the stat only limit...this will take a little while...\"\nhadd exampleFile/HF_jan7_mc16all_nom_VBFHAltSignal.root exampleFile/HF_jan7_mc16all_nom.root HF_files/HFVBFHAltSignalNominal.root\nsource runStatOnlyBlindedDocker.sh exampleFile/HF_jan7_mc16all_nom_VBFHAltSignal.root HF_jan7_mc16all_nom sys 0.001 VBFHAltSignal\ntail -30 limit.log\n"}, "publisher": {"publisher_type": "interpolated-pub", "glob": false, "relative_paths": false, "publish": {"limit": "limit.log"}}, "environment": {"workdir": null, "imagetag": "master", "par_mounts": [], "image": "gitlab-registry.cern.ch/vbfinv/statstools", "envscript": "", "environment_type": "docker-encapsulated", "env": {}, "resources": []}}, "scheduler_type": "singlestep-stage", "parameters": [{"key": "input_histfitter", "value": "{workdir}/HF_files"}, {"key": "background_file", "value": "exampleFile/HF_jan7_mc16all_nom.root"}, {"key": "signal_file", "value": {"output": "HF_files", "step": "stpostprocessing", "expression_type": "stage-output-selector"}}, {"key": "resultdir", "value": "{workdir}/fitresults"}]}, "state_provider": {"init_states": [{"state_type": "localfs", "readwrite": [], "readonly": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-3cd7b09e/init", "name": "readdir0"}], "identifier": "unidentified_state"}], "nest": true, "base_state": {"state_type": "localfs", "readwrite": [{"path": "/Users/othmanerifki/vbf/workflow/recast-vbfmet/recast-3cd7b09e", "name": "workdir"}], "readonly": [], "identifier": "unidentified_state"}, "state_provider_type": "localfs_provider", "sub_init_states": {}, "ensure": true}}, "offset": ""}], "values": {}, "bookkeeping": {"_meta": {"stages": ["01e85f2c-c3f3-43b3-bf2b-fc42e9db6c34", "03d4e8bc-baf8-4f91-920d-48076ef9277f", "042ef237-0ffc-47b9-81a0-86409c935da9", "9ee4269d-4970-4c97-8b68-7ec0a814b3c6"], "steps": ["1c81d7ce-8464-42ec-a9e2-1a8fc4b79106", "015bb045-912b-4816-8c78-17e5035413f2"]}}}